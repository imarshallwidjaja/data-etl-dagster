# =============================================================================
# Test Dependencies
# =============================================================================
# Dependencies required for running tests
# Includes base library dependencies plus test-specific packages
# =============================================================================

# Include base library dependencies
-r requirements.txt

# Include Dagster dependencies for unit testing
-r services/dagster/requirements-user-code.txt

# Testing framework
pytest==7.4.3

# Integration test dependencies (for service connectivity tests)
requests==2.31.0          # HTTP client for Dagster GraphQL API
minio==7.2.9              # MinIO Python client for S3-compatible storage
pymongo==4.7.2            # MongoDB Python client
mongomock==4.3.0          # In-memory MongoDB mock for unit tests
psycopg2-binary==2.9.9    # PostgreSQL/PostGIS client (binary wheel)
tenacity==8.2.3           # Retry library for service health checks
setuptools<81             # Pin to avoid pkg_resources deprecation warning from mongomock

# Install libs as editable for development
-e ./libs

# Webapp dependencies (for webapp tests)
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
jinja2>=3.1.0
httpx>=0.25.0
python-multipart>=0.0.6
aiofiles>=23.2.0
pydantic-settings>=2.1.0
markdown
bleach>=6.0,<7.0

